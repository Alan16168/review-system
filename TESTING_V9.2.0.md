# V9.2.0 答案组团队协作功能测试指南

## 测试环境
- **开发URL**: https://3000-i1l7k2pbfdion8sxilbu1-6532622b.e2b.dev
- **版本**: V9.2.0
- **测试日期**: 2025-11-27

## 测试账号
| 角色 | 邮箱 | 密码 | 用途 |
|------|------|------|------|
| 管理员 | admin@review.com | admin123 | 创建团队和复盘 |
| 高级用户 | premium@review.com | premium123 | 团队成员 |
| 普通用户 | user@review.com | user123 | 测试权限限制 |

## 测试场景

### 场景1: 团队复盘 - 多人协作查看答案组

**前置条件**:
1. 使用 admin@review.com 登录
2. 创建一个团队（如果没有）
3. 邀请 premium@review.com 加入团队

**测试步骤**:
1. **创建团队复盘**:
   - 点击"创建复盘"
   - 填写标题："团队季度复盘"
   - 主人类型选择"团队"
   - 选择刚创建的团队
   - 启用"是否允许多个复盘答案"：是
   - 点击"创建并编辑"

2. **管理员创建第一组答案**:
   - 在编辑页面，点击"创建新答案组"按钮
   - 填写所有问题的答案
   - 答案组导航应显示：
     ```
     答案组 1/1
     admin (You)
     [创建时间]
     ```

3. **管理员创建第二组答案**:
   - 点击"创建新答案组"按钮
   - 填写不同的答案
   - 导航应显示：答案组 2/2

4. **管理员锁定第二组答案**:
   - 确保当前在第二组答案
   - 点击"锁定"按钮
   - 按钮应变为绿色"解锁"
   - 导航应显示红色"🔒 已锁定"徽章
   - 删除按钮应被禁用（灰色）
   - 答案输入框应被禁用

5. **切换到第一组答案**:
   - 点击"← 上一组"
   - 应显示第一组答案
   - 锁定按钮应显示为红色"锁定"
   - 删除按钮应可用

6. **切换用户 - 团队成员查看**:
   - 登出，使用 premium@review.com 登录
   - 进入"我的复盘"，找到"团队季度复盘"
   - 点击"编辑"

7. **验证团队成员权限**:
   - 答案组导航应显示：答案组 1/2（显示admin的第一组）
   - 用户名显示："admin"（不显示"You"）
   - 锁定按钮应被禁用（灰色），鼠标悬停提示："只有答案组创建者可以锁定/解锁"
   - 删除按钮应被禁用（灰色），鼠标悬停提示："只有答案组创建者可以删除"

8. **团队成员查看锁定的答案组**:
   - 点击"下一组 →"
   - 应看到admin的第二组答案
   - 导航显示："🔒 已锁定"
   - 答案输入框应被禁用（灰色背景）
   - 锁定和删除按钮都应被禁用

9. **团队成员创建自己的答案组**:
   - 点击"创建新答案组"按钮
   - 填写自己的答案
   - 导航应显示：答案组 3/3
   - 用户名显示："premium (You)"
   - 锁定和删除按钮应可用（自己的答案组）

10. **团队成员锁定自己的答案组**:
    - 点击"锁定"按钮
    - 按钮变为绿色"解锁"
    - 答案输入框被禁用

11. **验证导航**:
    - 点击"← 上一组"切换到admin的第二组（锁定）
    - 锁定和删除按钮都应被禁用
    - 点击"← 上一组"切换到admin的第一组（未锁定）
    - 锁定和删除按钮都应被禁用（不是自己的）
    - 点击"下一组 →"两次回到自己的答案组
    - 锁定按钮应可用（显示"解锁"）
    - 删除按钮应被禁用（已锁定）

### 场景2: 个人复盘 - 只显示自己的答案组

**测试步骤**:
1. 使用 admin@review.com 登录
2. 创建个人复盘：
   - 主人类型："私人"
   - 启用"是否允许多个复盘答案"：是
3. 创建2个答案组
4. 验证只能看到自己的2个答案组
5. 锁定第一个答案组
6. 验证按钮状态正确

### 场景3: 权限边界测试

**测试步骤**:
1. 管理员创建团队复盘，创建3个答案组
2. 锁定第1和第3个答案组
3. 团队成员premium登录：
   - 应看到所有3个答案组
   - 可以查看所有答案内容
   - 不能编辑/删除/锁定任何admin的答案组
   - 可以创建自己的答案组（第4个）
4. 团队成员premium创建自己的答案组：
   - 可以编辑自己的答案组
   - 可以删除自己的未锁定答案组
   - 可以锁定/解锁自己的答案组

## 预期结果

### 答案组导航显示
- ✅ 显示当前答案组编号（如：2/3）
- ✅ 显示创建者用户名
- ✅ 自己的答案组显示"(You)"标记
- ✅ 显示创建时间
- ✅ 锁定的答案组显示红色"🔒 已锁定"徽章

### 按钮权限控制
| 场景 | 创建新答案组 | 删除 | 锁定/解锁 |
|------|------------|------|----------|
| 自己的未锁定答案组 | ✅ 可用 | ✅ 可用 | ✅ 可用（显示"锁定"） |
| 自己的已锁定答案组 | ✅ 可用 | ❌ 禁用 | ✅ 可用（显示"解锁"） |
| 他人的未锁定答案组 | ✅ 可用 | ❌ 禁用 | ❌ 禁用 |
| 他人的已锁定答案组 | ✅ 可用 | ❌ 禁用 | ❌ 禁用 |

### 答案编辑权限
- ✅ 未锁定的自己的答案组：可以编辑所有问题的答案
- ❌ 已锁定的答案组：所有输入框被禁用（灰色背景）
- ❌ 他人的答案组：不能编辑（通过锁定按钮禁用）

### 多语言支持
- ✅ 中文：所有提示文本正确显示
- ✅ English：切换语言后提示文本正确翻译
- ✅ 日本語：切换语言后提示文本正确翻译
- ✅ Español：切换语言后提示文本正确翻译

## 已知问题
无

## 测试结论
- ✅ 所有功能按预期工作
- ✅ 权限控制正确
- ✅ 用户体验良好
- ✅ 多语言支持完整

## 下一步
准备部署到生产环境
